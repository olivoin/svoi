jQuery(function(a){function n(b){a(b).parent().find("div.yith-wcan-select-wrapper").css("z-index","1").animate({visibility:"visible",opacity:1},300),a(b).parent().find("a.yit-wcan-select-open").addClass("active")}function o(b){a(b).parent().find("div.yith-wcan-select-wrapper").css("z-index","-1").animate({visibility:"hidden",opacity:0},300),a(b).parent().find("a.yit-wcan-select-open").removeClass("active")}function r(a,b){return a.replace(new RegExp("[?&]"+b+"=[^&#]*(#.*)?$"),"$1").replace(new RegExp("([?&])"+b+"=[^&]*&"),"$1")}var c=/(?!(\[))(\.)[^.#[]*/g,d=/(#)[^.#[]*/,e=/^[\w]+/,g=/^[\w]+$/,h=function(b){for(var f={sel:[],val:[]},g=[],h=!1,i="",j=[],k=0,l=b.length;k<l;k++){var m=b.charAt(k);h?"\\"===m&&k+1<b.length?j.push(b.charAt(++k)):i===m?(i="",j.push(m)):"'"!==m&&'"'!==m||""!==i?"]"===m&&""===i?(f.val.push(j.join("")),j=[],h=!1):"]"===m&&""===i||(""===i&&","===m?(f.val.push(j.join("")),j=[]):j.push(m)):(i=m,j.push(m)):"\\"===m&&k+1<b.length?h&&j.push(b.charAt(++k)):"["===m&&""===i?h=!0:" "===m||"+"===m?(f.sel=f.sel.join(""),g.push(f),"+"===m&&g.push({sel:"+",val:""}),f={sel:[],val:[]}):" "!==m&&"]"!==m&&f.sel.push(m)}for(0==f.sel.length&&0==f.val.length||(f.sel=f.sel.join(""),g.push(f)),k=0;k<g.length;k++){if(f=g[k].sel,"+"===f)n.tag=f;else{var n=[];for(n.tag=e.exec(f),n.id=d.exec(f),n.id&&a.isArray(n.id)&&(n.id=n.id[0].substr(1)),n.tag||(n.tag="div"),n.vars=[],b=0;b<g[k].val.length;b++)i=g[k].val[b].indexOf("="),h=g[k].val[b].substr(0,i),i=g[k].val[b].substr(i+1),i=i.replace(/^[\s]*[\"\']*|[\"\']*[\s]*$/g,""),"text"===h?n.text=i:n.vars.push([h,i]);if(f=f.match(c),h=[],f){for(b=0;b<f.length;b++)h.push(f[b].substr(1));n.className=h.join(" ")}}g[k]=n}return g},j=function(b,c){var d=[],d=g.test(b)?[{tag:b}]:h(b),e=[];"undefined"==typeof c&&(c=1);for(var f=[],i=[],j=[],k=document.createElement("div"),l=0,m=0;m<d.length;m++){if("+"==d[m].tag)i=j.slice(),--l;else{for(var n=0;n<c;n++)if("input"==d[m].tag){var o=[];if(o.push("<"+d[m].tag),d[m].id&&o.push("id='"+d[m].id+"'"),d[m].className&&(o.push("class='"+d[m].className),m+1===d.length&&o.push(lastClass),o.push("'")),d[m].vars)for(var p=0;p<d[m].vars.length;p++)o.push(d[m].vars[p][0]+"='"+d[m].vars[p][1]+"'");d[m].text&&o.push("value='"+d[m].text+"'"),o.push("/>"),j[n]=i[n],i[n]?(i[n].innerHTML+=o.join(" "),i[n]=i[n].lastChild):(k.innerHTML=o.join(" "),i[n]=k.removeChild(k.firstChild))}else{if(o=document.createElement(d[m].tag),d[m].vars)for(p=0;p<d[m].vars.length;p++)console.log(d[m].tag,d[m].vars[p]),o.setAttribute(d[m].vars[p][0],d[m].vars[p][1]);d[m].id&&(o.id=d[m].id),d[m].className&&(o.className=d[m].className),d[m].text&&o.appendChild(document.createTextNode(d[m].text)),j[n]=i[n],i[n]=i[n]?i[n].appendChild(o):o}l++||Array.prototype.push.apply(f,i)}e=a.merge(e,i)}return a(f)},k=function(b,c,d){for(var e=b.match(/%[^%]*%/g)||[],f=[],g=0;g<c.length;g++){for(var h=b,i=0;i<e.length;i++)var k=e[i].substr(1,e[i].length-2),h=h.replace(e[i],c[g][k]);f=a.merge(f,j(h,d))}return a(f)};a.jseldom=function(b){return 2==arguments.length&&a.isPlainObject(arguments[1])?k.apply(this,[arguments[0],[arguments[1]]]):1==arguments.length||2==arguments.length&&!a.isArray(arguments[1])?j.apply(this,arguments):2==arguments.length?k.apply(this,arguments):void 0};var l=!1,m=function(){var b=a("#yith-wcan-reset-all-categories").find("a.yith-wcan-reset-categories-link"),c=a("#yith-wcan-reset-all-tags").find("a.yith-wcan-reset-tags-link");b.add(c).on("click",function(b){a(this).yith_wcan_ajax_filters(b,this)})};a.fn.yith_wcan_ajax_filters=function(b,c){b.preventDefault();var d=c.href,e=a(c),f=e.hasClass("yith-wcan-reset-navigation");if("undefined"==typeof d&&e.parents().hasClass("price_slider_wrapper")){var h=(e.parents("form"),window.location),i=h.origin+h.pathname,j=i!=h.href,n=(h.search,a(".price_slider_amount #min_price").val()),o=a(".price_slider_amount #max_price").val();new RegExp("^min_price","i"),new RegExp("^max_price","i");d=h.href,1==j&&(d=r(d,"min_price"),d=r(d,"max_price"));var s=i==d?"?":"&";d=d+s+a.param({min_price:n,max_price:o})}"select"==e.data("type")&&(e.parents("div.yith-woo-ajax-navigation").find("a.yit-wcan-select-open").removeClass("active"),e.parent().find("div.yith-wcan-select-wrapper").show()),a(yith_wcan.container).not(".ywcps-products").html("").addClass("yith-wcan-loading"),a(document).trigger("yith-wcan-ajax-loading"),"undefined"!=typeof yith_wcan_frontend&&a(yith_wcan.container).not(".ywcps-products").css("backgroundImage","url("+yith_wcan_frontend.loader_url+")"),1==yith_wcan.is_mobile&&a(window).scrollTop(a(yith_wcan.scroll_top).offset().top),a(yith_wcan.pagination).hide(),a(yith_wcan.result_count).hide(),0!=l&&(l.abort(),l=!1),l=a.ajax({url:d,success:function(b){l=!1,a(yith_wcan.container).not(".ywcps-products").removeClass("yith-wcan-loading"),a(b).find(yith_wcan.container).not(".ywcps-products").length>0?a(".yit-wcan-container").html(a(b).find(yith_wcan.container).not(".ywcps-products")):a(".yit-wcan-container").html(a(b).find(".woocommerce-info")),a(b).find(yith_wcan.pagination).length>0?(0==a(yith_wcan.pagination).length&&a.jseldom(yith_wcan.pagination).insertAfter(a(yith_wcan.container).not(".ywcps-products")),a(yith_wcan.pagination).html(a(b).find(yith_wcan.pagination).html()).show()):a(yith_wcan.pagination).empty(),a("div.quantity:not(.buttons_added), td.quantity:not(.buttons_added)").addClass("buttons_added").append('<input type="button" value="+" class="plus" />').prepend('<input type="button" value="-" class="minus" />'),a(b).find(yith_wcan.result_count).length>0&&a(yith_wcan.result_count).html(a(b).find(yith_wcan.result_count).html()).show();var c=function(c){var d=c.attr("id");c.html(a(b).find("#"+d).html()),""==c.text()?c.hide():c.show()};if(a(".yith-woo-ajax-navigation").add(".yith-wcan-sort-by").add(".yith-wcan-stock-on-sale").add(".yith-wcan-list-price-filter").each(function(){var b=a(this);c(b)}),1==yith_wcan.avada.is_enabled){var g=a(yith_wcan.avada.sort_count);g.html(a(b).find(yith_wcan.avada.sort_count).html()),""==e.text()?g.hide():g.show()}if(1!=yith_wcan.change_browser_url||navigator.userAgent.match(/msie/i)||window.history.pushState({pageTitle:b.pageTitle},"",d),a(document).trigger("ready"),a(document).trigger("yith-wcan-ajax-filtered"),a(window).trigger("scroll"),f){if("undefined"!=typeof a.fn.slider){var h=parseInt(a(yith_wcan.wc_price_slider.min_price).data("min")),i=parseInt(a(yith_wcan.wc_price_slider.max_price).data("max"));a(yith_wcan.wc_price_slider.wrapper).slider("values",[h,i]),a(document.body).trigger("price_slider_slide",[h,i])}a(document).trigger("yith-wcan-ajax-reset-filtered")}m()}})},a(yith_wcan.container).not(".ywcps-products").wrap('<div class="yit-wcan-container"></div>'),a(document).on("yith-wcan-wrapped",function(){m()}),a(document).trigger("yith-wcan-wrapped"),a(document).on("click",".yith-wcan a",function(b){a(this).yith_wcan_ajax_filters(b,this)});var p=function(){a("div.yith-wcan-select-wrapper").css("z-index","-1").animate({visibility:"hidden",opacity:0},0),a("a.yit-wcan-select-open").removeClass("active")},q=function(){a("div.yith-wcan-select-wrapper ul.yith-wcan-select li.chosen").length;p(),a("div.yith-wcan-select-wrapper").each(function(){var b="";a(this).find("ul.yith-wcan-select li.chosen").each(function(){b+=a(this).text()+", "});b=b.substring(0,b.length-2),""!=b&&a(this).parent().find("a.yit-wcan-select-open").text(b)})};a(document).on("click","a.yit-wcan-select-open.active",function(a){a.preventDefault(),o(this)}),a(document).on("click","a.yit-wcan-select-open:not(.active)",function(a){a.preventDefault(),n(this)}),a(document).on("ready yith-wcan-ajax-filtered",q),a(document).on("ready",p),a("body").on("click",function(b){a(b.target).hasClass("yit-wcan-select-open")||p()})});